.page--twins {
  --twins-background: radial-gradient(
    120% 120% at 50% 0%,
    rgba(40, 72, 140, 0.42) 0%,
    rgba(14, 24, 56, 0.9) 52%,
    rgba(6, 10, 28, 0.97) 100%
  );
  --twins-text-primary: rgba(244, 248, 255, 0.96);
  --twins-text-muted: rgba(198, 212, 240, 0.76);
  --twins-toolbar-bg: rgba(18, 28, 58, 0.82);
  --twins-toolbar-border: rgba(120, 164, 255, 0.34);
  --twins-toolbar-shadow: 0 18px 32px rgba(6, 12, 32, 0.45);
  --twins-control-bg: rgba(30, 48, 92, 0.7);
  --twins-control-border: rgba(132, 176, 252, 0.55);
  --twins-control-hover: rgba(132, 176, 252, 0.25);
  --twins-button-bg: rgba(84, 140, 255, 0.9);
  --twins-button-hover: rgba(112, 168, 255, 0.95);
  --twins-button-text: rgba(6, 12, 28, 0.95);
  --twins-card-aspect: 0.72;
  --twins-card-back: linear-gradient(135deg, rgba(32, 58, 128, 0.92), rgba(16, 34, 88, 0.92));
  --twins-card-front: linear-gradient(135deg, rgba(8, 14, 36, 0.94), rgba(14, 22, 52, 0.96));
  --twins-card-border: rgba(146, 196, 255, 0.48);
  --twins-card-shadow: 0 18px 36px rgba(6, 10, 28, 0.62);
  --twins-card-shadow-active: 0 22px 46px rgba(10, 20, 50, 0.72);
  --twins-card-match-glow: 0 0 0 3px rgba(114, 222, 188, 0.7);
  --twins-card-symbol: rgba(210, 224, 255, 0.78);
  background: var(--twins-background);
  color: var(--twins-text-primary);
}

body.theme-light .page--twins {
  --twins-background: radial-gradient(
    115% 115% at 50% 0%,
    rgba(220, 236, 255, 0.82) 0%,
    rgba(156, 190, 255, 0.7) 50%,
    rgba(126, 156, 228, 0.65) 100%
  );
  --twins-text-primary: rgba(16, 32, 64, 0.92);
  --twins-text-muted: rgba(40, 64, 110, 0.7);
  --twins-toolbar-bg: rgba(255, 255, 255, 0.82);
  --twins-toolbar-border: rgba(88, 124, 206, 0.32);
  --twins-toolbar-shadow: 0 18px 28px rgba(22, 40, 86, 0.18);
  --twins-control-bg: rgba(228, 238, 255, 0.92);
  --twins-control-border: rgba(112, 148, 214, 0.36);
  --twins-control-hover: rgba(88, 132, 214, 0.18);
  --twins-button-bg: rgba(76, 128, 236, 0.92);
  --twins-button-hover: rgba(60, 112, 220, 0.92);
  --twins-button-text: rgba(248, 252, 255, 0.96);
  --twins-card-back: linear-gradient(135deg, rgba(138, 176, 252, 0.96), rgba(92, 134, 220, 0.94));
  --twins-card-front: linear-gradient(135deg, rgba(240, 248, 255, 0.96), rgba(220, 234, 255, 0.96));
  --twins-card-border: rgba(72, 108, 198, 0.38);
  --twins-card-shadow: 0 12px 24px rgba(32, 60, 128, 0.28);
  --twins-card-shadow-active: 0 16px 34px rgba(32, 60, 128, 0.32);
  --twins-card-match-glow: 0 0 0 3px rgba(56, 172, 140, 0.52);
  --twins-card-symbol: rgba(52, 82, 150, 0.7);
}

body.theme-neon .page--twins {
  --twins-background: radial-gradient(
    125% 125% at 50% 0%,
    rgba(120, 0, 255, 0.5) 0%,
    rgba(24, 0, 74, 0.9) 55%,
    rgba(6, 0, 32, 0.96) 100%
  );
  --twins-toolbar-bg: rgba(36, 0, 92, 0.78);
  --twins-toolbar-border: rgba(180, 120, 255, 0.4);
  --twins-control-bg: rgba(48, 0, 120, 0.74);
  --twins-control-border: rgba(196, 140, 255, 0.42);
  --twins-control-hover: rgba(196, 140, 255, 0.26);
  --twins-button-bg: rgba(255, 64, 160, 0.92);
  --twins-button-hover: rgba(255, 96, 188, 0.94);
  --twins-button-text: rgba(18, 0, 28, 0.94);
  --twins-card-back: linear-gradient(135deg, rgba(90, 0, 198, 0.92), rgba(36, 0, 104, 0.92));
  --twins-card-front: linear-gradient(135deg, rgba(24, 2, 56, 0.94), rgba(40, 4, 82, 0.96));
  --twins-card-border: rgba(214, 136, 255, 0.48);
  --twins-card-shadow: 0 20px 34px rgba(12, 0, 38, 0.62);
  --twins-card-shadow-active: 0 24px 44px rgba(24, 0, 70, 0.74);
  --twins-card-match-glow: 0 0 0 3px rgba(120, 255, 210, 0.7);
  --twins-card-symbol: rgba(240, 190, 255, 0.76);
}

.page--twins {
  display: flex;
}

.page--twins > .twins {
  flex: 1;
}

.twins {
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
  padding: clamp(1.25rem, 2.5vw, 2rem) clamp(1rem, 2.4vw, 2.25rem) clamp(1.75rem, 3vw, 2.5rem);
  min-height: 100%;
  color: var(--twins-text-primary);
}

.twins__toolbar {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
  justify-content: center;
  align-items: center;
  padding: 0.85rem clamp(0.9rem, 2vw, 1.5rem);
  background: var(--twins-toolbar-bg);
  border: 1px solid var(--twins-toolbar-border);
  border-radius: 1.25rem;
  box-shadow: var(--twins-toolbar-shadow);
  backdrop-filter: blur(8px);
}

.twins__label {
  font-size: 0.95rem;
  font-weight: 600;
}

.twins__select,
.twins__button {
  border-radius: 999px;
  border: 1px solid var(--twins-control-border);
  background: var(--twins-control-bg);
  color: var(--twins-text-primary);
  padding: 0.55rem 1.25rem;
  font-size: 0.95rem;
  font-weight: 600;
  transition: background 0.2s ease, transform 0.16s ease, box-shadow 0.2s ease;
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04);
}

.twins__select:focus,
.twins__button:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(120, 176, 255, 0.45);
}

.twins__select:hover,
.twins__button:hover {
  background: var(--twins-control-hover);
}

.twins__button {
  background: var(--twins-button-bg);
  color: var(--twins-button-text);
  border-color: rgba(255, 255, 255, 0.18);
  box-shadow: 0 12px 20px rgba(10, 20, 48, 0.35);
}

.twins__button:hover {
  background: var(--twins-button-hover);
  transform: translateY(-1px);
}

.twins__button:active {
  transform: translateY(0);
}

.twins__status {
  text-align: center;
  font-size: 1rem;
  font-weight: 500;
  color: var(--twins-text-muted);
  margin: 0 auto;
  max-width: 48rem;
}

.twins__stats {
  display: flex;
  justify-content: center;
  gap: clamp(1rem, 3vw, 2.5rem);
  flex-wrap: wrap;
  font-size: 0.95rem;
  color: var(--twins-text-muted);
}

.twins__stat {
  margin: 0;
  font-weight: 600;
}

.twins__playfield {
  flex: 1;
  min-height: 0;
  display: flex;
  justify-content: center;
  align-items: center;
}

.twins__grid {
  --twins-card-max-width: clamp(4.25rem, 9vw, 10.5rem);
  --twins-card-max-height: calc(var(--twins-card-max-width) / var(--twins-card-aspect));
  display: grid;
  grid-template-columns: repeat(var(--twins-columns, 4), minmax(0, 1fr));
  gap: clamp(0.55rem, 1.4vw, 1.1rem);
  padding: clamp(0.75rem, 2vw, 1.5rem);
  justify-items: center;
  align-content: center;
  width: min(100%, 68rem);
  height: 100%;
  box-sizing: border-box;
}

.twins-card {
  position: relative;
  border: none;
  padding: 0;
  margin: 0;
  width: min(100%, var(--twins-card-max-width));
  aspect-ratio: var(--twins-card-aspect);
  cursor: pointer;
  background: transparent;
  perspective: 1100px;
  transition: transform 0.18s ease;
}

.twins-card:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(120, 176, 255, 0.6);
  border-radius: 0.9rem;
}

.twins-card[disabled] {
  cursor: default;
}

.twins-card__inner {
  position: relative;
  width: 100%;
  height: 100%;
  border-radius: clamp(0.75rem, 2vw, 1.1rem);
  transform-style: preserve-3d;
  transition: transform 0.45s ease, box-shadow 0.28s ease;
  box-shadow: var(--twins-card-shadow);
}

.twins-card__face {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  backface-visibility: hidden;
  border: 1px solid var(--twins-card-border);
}

.twins-card__face--back {
  background: var(--twins-card-back);
}

.twins-card__face--back::after {
  content: '';
  position: absolute;
  inset: 0.4rem;
  border-radius: inherit;
  border: 1px dashed rgba(255, 255, 255, 0.16);
  opacity: 0.75;
}

.twins-card__symbol {
  font-size: clamp(1.6rem, 3vw + 0.5rem, 2.4rem);
  font-weight: 700;
  color: var(--twins-card-symbol);
  text-shadow: 0 4px 14px rgba(0, 0, 0, 0.5);
  letter-spacing: 0.05em;
}

.twins-card__face--front {
  background: var(--twins-card-front);
  transform: rotateY(180deg);
}

.twins-card__image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.twins-card[data-state='revealed'] .twins-card__inner,
.twins-card[data-state='matched'] .twins-card__inner {
  transform: rotateY(180deg);
  box-shadow: var(--twins-card-shadow-active);
}

.twins-card[data-state='matched'] .twins-card__inner::after {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  box-shadow: var(--twins-card-match-glow);
  pointer-events: none;
}

.twins-card[data-state='matched'] .twins-card__symbol {
  opacity: 0.25;
}

.twins-card[data-state='matched'] {
  cursor: default;
}

@media (max-width: 720px) {
  .twins {
    padding-inline: clamp(0.75rem, 4vw, 1.25rem);
  }

  .twins__toolbar {
    gap: 0.6rem;
  }

  .twins__stats {
    gap: 1.1rem;
    font-size: 0.9rem;
  }
}

@media (max-height: 620px) {
  .twins__grid {
    gap: clamp(0.4rem, 1vw, 0.7rem);
    padding: clamp(0.6rem, 1.5vw, 1rem);
  }
}

@media (max-height: 520px) {
  .twins__toolbar {
    margin-bottom: 0.25rem;
  }

  .twins__status {
    font-size: 0.9rem;
  }
}
